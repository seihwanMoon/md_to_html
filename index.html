<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>마크다운ㅎ글 - 마크다운을 아래한글 형식으로</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&family=Nanum+Myeongjo:wght@400;700;800&family=Nanum+Gothic+Coding:wght@400;700&family=Noto+Serif+KR:wght@400;700&family=Pretendard+Variable:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tomorrow.min.css"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body data-theme="light">
    <div class="app">
      <header class="topbar">
        <div class="brand">
          <div class="brand-title">
            <span>마크다운</span>
            <span class="brand-highlight">ㅎ</span>
            <span>글</span>
          </div>
          <div class="brand-subtitle">마크다운을 아래한글 형식으로</div>
        </div>
        <div class="topbar-actions">
          <div class="group">
            <button class="btn" data-action="new">새 문서</button>
            <button class="btn" data-action="folder">폴더 연결</button>
            <button class="btn" data-action="load">불러오기</button>
            <button class="btn" data-action="save">저장하기</button>
          </div>
          <div class="group">
            <button class="btn" data-action="export-html">HTML</button>
            <button class="btn" data-action="export-pdf">PDF</button>
          </div>
          <div class="group">
            <button class="btn" data-view="edit">편집</button>
            <button class="btn active" data-view="split">분할</button>
            <button class="btn" data-view="preview">미리보기</button>
          </div>
          <button class="btn" data-action="toggle-theme">라이트</button>
          <button class="btn" data-action="help">도움말</button>
          <button class="btn" data-action="preset">프리셋</button>
          <button class="btn" data-action="settings">설정</button>
          <button class="btn" data-action="info">정보</button>
        </div>
      </header>
      <div class="formatbar">
        <div class="format-group">
          <select class="heading-select" id="headingLevel">
            <option value="0">본문</option>
            <option value="1">제목 1</option>
            <option value="2">제목 2</option>
            <option value="3">제목 3</option>
            <option value="4">제목 4</option>
            <option value="5">제목 5</option>
            <option value="6">제목 6</option>
          </select>
          <button class="btn small" data-insert="bold">B</button>
          <button class="btn small" data-insert="italic">I</button>
          <button class="btn small" data-insert="strike">S</button>
          <button class="btn small" data-insert="inline-code">`</button>
        </div>
        <div class="format-group">
          <button class="btn small" data-action="undo">되돌리기</button>
          <button class="btn small" data-action="redo">다시 실행</button>
          <button class="btn small" data-insert="table">표</button>
          <button class="btn small" data-insert="hr">수평선</button>
          <button class="btn small" data-insert="code-block">코드 블록</button>
          <button class="btn small" data-insert="quote">인용</button>
          <button class="btn small" data-insert="link">링크</button>
          <button class="btn small" data-insert="image">이미지</button>
          <button class="btn small" data-insert="checklist">체크리스트</button>
          <button class="btn small" data-insert="ul">• 목록</button>
          <button class="btn small" data-insert="ol">1. 목록</button>
        </div>
        <div class="zoom">
          <button class="btn small" data-action="zoom-out">-</button>
          <span class="zoom-label" id="zoomLabel">100%</span>
          <button class="btn small" data-action="zoom-in">+</button>
        </div>
      </div>
      <main class="workspace" data-view="split">
        <section class="editor-pane">
          <div class="line-numbers" id="lineNumbers"></div>
          <textarea
            id="editor"
            spellcheck="false"
            placeholder="마크다운을 입력하세요..."
          ></textarea>
          <div class="statusbar" id="statusbar">줄 1, 열 1 · 0줄 · 0자 · Markdown</div>
        </section>
        <div class="splitter" id="splitter"></div>
        <section class="preview-pane">
          <iframe id="previewFrame" title="미리보기"></iframe>
        </section>
      </main>
    </div>

    <div class="modal-overlay" id="infoModal" hidden>
      <div class="modal">
        <div class="modal-header">
          <h3>프로그램 정보</h3>
          <button class="btn small" data-close="info">×</button>
        </div>
        <div class="modal-body">
          <div class="brand-block">
            <div class="brand-title">
              <span>마크다운</span>
              <span class="brand-highlight">ㅎ</span>
              <span>글</span>
            </div>
            <p>마크다운을 아래한글 형식으로</p>
          </div>
          <div class="info-list">
            <p>버전 1.0.0</p>
            <p>개발 개인 클론 프로젝트</p>
            <p>기술 HTML · CSS · JavaScript · Markdown-it</p>
          </div>
          <div class="info-list">
            <p>업데이트</p>
            <ul>
              <li>• 기본 편집/미리보기 지원</li>
              <li>• 설정 패널, 프리셋 저장</li>
              <li>• HTML/PDF 내보내기</li>
            </ul>
          </div>
          <p>개인 목적으로 동일한 UX를 참고해 구현한 클론입니다.</p>
        </div>
      </div>
    </div>

    <div class="modal-overlay" id="presetModal" hidden>
      <div class="modal">
        <div class="modal-header">
          <h3>프리셋</h3>
          <button class="btn small" data-close="preset">×</button>
        </div>
        <div class="modal-body">
          <div id="presetEmpty">저장된 프리셋이 없습니다</div>
          <div class="preset-list" id="presetList"></div>
          <div class="preset-actions">
            <button class="btn" data-action="preset-save">+ 현재 설정 저장...</button>
            <div class="preset-io">
              <button class="btn" data-action="preset-export">내보내기</button>
              <button class="btn" data-action="preset-import">가져오기</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-overlay" id="helpModal" hidden>
      <div class="modal">
        <div class="modal-header">
          <h3 id="helpTitle">📁 문서 관리</h3>
          <button class="btn small" data-close="help">×</button>
        </div>
        <div class="modal-body">
          <div class="help-step" id="helpStep">1/12</div>
          <p id="helpDesc"></p>
          <div class="help-actions">
            <button class="btn" data-action="help-skip">건너뛰기</button>
            <div class="help-nav">
              <button class="btn" data-action="help-prev">이전</button>
              <button class="btn" data-action="help-next">다음</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-overlay" id="settingsModal" hidden>
      <div class="panel settings-panel">
        <div class="panel-header">
          <h3>문서 설정</h3>
          <button class="btn small icon-btn" data-close="settings">✕</button>
        </div>
        <div class="panel-body">
          <details class="settings-accordion" open>
            <summary>글꼴</summary>
            <div class="field">
              <label>폰트</label>
              <select id="fontFamily">
                <option value="NanumGothic">나눔고딕</option>
                <option value="NanumMyeongjo">나눔명조</option>
                <option value="NotoSerifKR">Noto Serif KR</option>
                <option value="Pretendard">Pretendard</option>
              </select>
            </div>
            <div class="field">
              <label>크기</label>
              <input type="number" id="fontSize" min="8" max="22" step="0.5" /> pt
            </div>
            <div class="field">
              <label>줄 간격</label>
              <input type="number" id="lineHeight" min="1" max="2.5" step="0.1" />
            </div>
            <div class="field">
              <label>줄바꿈</label>
              <select id="wordBreak">
                <option value="keep-all">단어 단위 (keep-all)</option>
                <option value="break-all">글자 단위 (break-all)</option>
              </select>
            </div>
            <div class="field">
              <label>들여쓰기</label>
              <input type="number" id="indent" min="0" max="20" step="1" /> px
            </div>
            <div class="field">
              <label>PDF 출력 스케일</label>
              <input type="number" id="pdfScale" min="0.5" max="2" step="0.1" />
            </div>
          </details>

          <details class="settings-accordion">
            <summary>여백</summary>
            <div class="field-grid">
              <label>상단</label>
              <input type="text" id="marginTop" />
              <label>하단</label>
              <input type="text" id="marginBottom" />
              <label>좌측</label>
              <input type="text" id="marginLeft" />
              <label>우측</label>
              <input type="text" id="marginRight" />
            </div>
          </details>

          <details class="settings-accordion">
            <summary>표 스타일</summary>
            <div class="field">
              <label>테두리 스타일</label>
              <select id="tableStyle">
                <option value="hwp">관공서 (HWP)</option>
              </select>
            </div>
          </details>

          <details class="settings-accordion">
            <summary>제목 스타일</summary>
            <div class="field">
              <label>스타일</label>
              <select id="headingStyle">
                <option value="basic">기본</option>
                <option value="boxed">박스</option>
              </select>
            </div>
          </details>

          <details class="settings-accordion">
            <summary>페이지 나누기</summary>
            <label class="checkbox">
              <input type="checkbox" id="breakH1" /> H1 앞에서 나누기
            </label>
            <label class="checkbox">
              <input type="checkbox" id="breakH2" /> H2 앞에서 나누기
            </label>
            <label class="checkbox">
              <input type="checkbox" id="breakH3" /> H3 앞에서 나누기
            </label>
          </details>

          <details class="settings-accordion">
            <summary>특수 페이지</summary>
            <label class="checkbox">
              <input type="checkbox" id="coverPage" /> 표지 페이지
            </label>
            <label class="checkbox">
              <input type="checkbox" id="tocPage" /> 목차 페이지
            </label>
            <label class="checkbox">
              <input type="checkbox" id="dividerPage" /> 간지 페이지
            </label>
          </details>

          <details class="settings-accordion">
            <summary>헤더</summary>
            <label class="checkbox">
              <input type="checkbox" id="headerEnabled" /> 헤더 사용
            </label>
            <div class="field">
              <label>글꼴 크기</label>
              <input type="number" id="headerSize" min="8" max="14" step="1" /> px
            </div>
            <div class="field">
              <label>왼쪽</label>
              <select id="headerLeft">
                <option value="title">제목</option>
                <option value="none">없음</option>
              </select>
            </div>
            <div class="field">
              <label>가운데</label>
              <select id="headerCenter">
                <option value="none">없음</option>
                <option value="title">제목</option>
              </select>
            </div>
            <div class="field">
              <label>오른쪽</label>
              <select id="headerRight">
                <option value="date">날짜</option>
                <option value="none">없음</option>
              </select>
            </div>
          </details>

          <details class="settings-accordion">
            <summary>푸터</summary>
            <label class="checkbox">
              <input type="checkbox" id="footerEnabled" /> 푸터 사용
            </label>
            <div class="field">
              <label>글꼴 크기</label>
              <input type="number" id="footerSize" min="8" max="14" step="1" /> px
            </div>
            <div class="field">
              <label>왼쪽</label>
              <select id="footerLeft">
                <option value="none">없음</option>
                <option value="title">제목</option>
              </select>
            </div>
            <div class="field">
              <label>가운데</label>
              <select id="footerCenter">
                <option value="page">페이지 번호</option>
                <option value="none">없음</option>
              </select>
            </div>
            <div class="field">
              <label>오른쪽</label>
              <select id="footerRight">
                <option value="none">없음</option>
                <option value="date">날짜</option>
              </select>
            </div>
          </details>

          <details class="settings-accordion">
            <summary>기타</summary>
            <label class="checkbox">
              <input type="checkbox" id="convertBreaks" /> 줄바꿈 변환
            </label>
            <label class="checkbox">
              <input type="checkbox" id="enableEmoji" /> 이모지
            </label>
            <label class="checkbox">
              <input type="checkbox" id="enableHighlight" /> 구문 강조
            </label>
            <label class="checkbox">
              <input type="checkbox" id="printBackground" /> 배경 인쇄
            </label>
            <label class="checkbox">
              <input type="checkbox" id="hideOnSpecial" /> 특수페이지 헤더/푸터 숨기기
            </label>
          </details>
        </div>
      </div>
    </div>

    <input type="file" id="fileInput" accept=".md,.txt" hidden />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.2/markdown-it.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="./app.js"></script>
  </body>
</html>
